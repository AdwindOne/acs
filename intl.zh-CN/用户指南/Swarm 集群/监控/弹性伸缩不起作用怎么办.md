# 弹性伸缩不起作用怎么办 {#concept_xj4_4f5_xdb .concept}

如果您创建的容器弹性伸缩或节点弹性伸缩不起作用，您可以按照以下内容来进行问题排查。

## 查看监控指标，确认监控指标有数据并达到阈值一段时间。 {#section_z53_pf5_xdb .section}

-   **查看容器弹性伸缩的监控指标**
    1.  单击左侧导航栏中的**服务**。
    2.  选择服务所在的集群。
    3.  选择所需的服务并单击**监控**。

        页面跳转到云监控管理控制台，您可以查看容器的监控信息。你需要确认监控指标有数据并达到阈值一段时间。

        **Note:** 容器服务在判断监测指标是否超出所设定的上下限时，使用的是采集周期（一分钟）内监测指标的平均值（即 CPU 平均使用量和内存平均使用量），而且只有当连续三个采集周期内的监测指标平均值均超出所设定的上下限时，容器服务才会触发扩容或伸缩操作，以避免因为监控数据抖动而引起频繁的扩容或缩容操作。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7094/5386_zh-CN.png)

-   **查看节点弹性伸缩的监控指标**
    1.  单击左侧导航栏中的**集群**。
    2.  选择所需的集群，单击**监控**。

        进入云监控管理控制台，您可以看到集群的监控信息。你需要确认监控指标有数据并达到 阈值一段时间。

        **Note:** 容器服务在判断监测指标是否超出所设定的上下限时，使用的是采集周期（一分钟）内监测指标的平均值（即 CPU 平均使用量和内存平均使用量），而且只有当连续三个采集周期内的监测指标平均值均超出所设定的上下限时，容器服务才会触发扩容或伸缩操作，以避免因为监控数据抖动而引起频繁的扩容或缩容操作。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7094/5389_zh-CN.png)


**如果没有监控数据**

您需要查看监控服务（acsmonitoring）是否正确安装（容器状态及数量是否正确），查看集群 Agent 是否为最新版本, 监控服务（acsmonitoring）是否为最新版本；如果不是，请进行升级。参见[升级系统服务](intl.zh-CN/用户指南/Swarm 集群/集群管理/升级系统服务.md#) 和[升级 Agent](intl.zh-CN/用户指南/Swarm 集群/集群管理/升级 Agent.md#)。

## 查看监控报警规则及状态，确认规则生成且状态正确 {#section_fv3_pf5_xdb .section}

1.  在云监控管理控制台，单击左侧导航栏中的**云服务监控** \> **容器服务**。

    您可以看到集群列表。

     

2.  单击**查看全部规则**，可以看到弹性伸缩自动设置的报警规则。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7094/5398_zh-CN.png)


**如果没有监控报警规则**

-   您需要在集群中更新访问授权信息（在集群列表页面，选择所需的集群，单击**更多** \> **更新访问控制授权信息**）。更新前需要先开通 RAM；否则会报如下所示的错误。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/7094/5401_zh-CN.png)

-   您需要查看监控服务（acsmonitoring）是否正确安装（容器状态及数量是否正确），查看集群 Agent 是否为最新版本, 监控服务（acsmonitoring）是否为最新版本；如果不是，请进行升级。参见 [升级系统服务](intl.zh-CN/用户指南/Swarm 集群/集群管理/升级系统服务.md#) 和[升级 Agent](intl.zh-CN/用户指南/Swarm 集群/集群管理/升级 Agent.md#)。

## 查看报警历史 {#section_lv3_pf5_xdb .section}

如果报警规则列表里显示某个报警规则的状态不正常（为**报警状态**），您可以查看该规则的报警历史以便定位问题。

选择所要查看的报警规则，并单击右侧的**查看**。

 

单击**报警历史**。您可以选择时间来查看指定时间段内发生的报警。

 

